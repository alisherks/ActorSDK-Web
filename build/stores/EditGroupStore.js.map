{"version":3,"sources":["../../src/stores/EditGroupStore.js"],"names":[],"mappings":";;;;AAIA;;AACA;;;;AACA;;AACA;;;;;;;;;;;;;;AAEA,IAAI,UAAU,KAAV;IACA,SAAS,EAAT;IACA,SAAS,EAAT;IACA,SAAS,EAAT;;IAEE;;;AACJ,WADI,cACJ,CAAY,UAAZ,EAAwB;0BADpB,gBACoB;;4CACtB,kBAAM,UAAN,GADsB;GAAxB;;AADI,2BAKJ,2BAAS;AACP,WAAO,OAAP,CADO;;;AALL,2BASJ,+BAAW;AACT,WAAO,MAAP,CADS;;;AATP,2BAaJ,+BAAW;AACT,WAAO,MAAP,CADS;;;AAbP,2BAiBJ,+BAAW;AACT,WAAO,MAAP,CADS;;;AAjBP,2BAqBJ,6BAAU;AACR,QAAM,OAAO,sBAAY,MAAZ,EAAP,CADE;AAER,WAAO,OAAO,OAAP,KAAmB,IAAnB,CAFC;;;AArBN,2BA0BJ,6BAAS,OAAO;AACd,aAAS,KAAT,CADc;AAEd,aAAS,OAAO,IAAP,CAFK;AAGd,aAAS,OAAO,KAAP,CAHK;;;AA1BZ,2BAgCJ,qCAAa,QAAQ;AACnB,YAAQ,OAAO,IAAP;AACN,WAAK,+BAAY,qBAAZ;AACH,kBAAU,IAAV,CADF;AAEE,aAAK,QAAL,CAAc,OAAO,KAAP,CAAd,CAFF;AAGE,aAAK,YAAL,GAHF;AAIE,cAJF;;AADF,WAOO,+BAAY,kBAAZ;AACH,aAAK,QAAL,CAAc,OAAO,KAAP,CAAd,CADF;AAEE,aAAK,YAAL,GAFF;AAGE,cAHF;;AAPF,WAYO,+BAAY,qBAAZ;AACH,kBAAU,KAAV,CADF;AAEE,aAAK,YAAL,GAFF;AAGE,cAHF;AAZF,KADmB;;;SAhCjB;;;kBAoDS,IAAI,cAAJ","file":"EditGroupStore.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { Store } from 'flux/utils';\nimport Dispatcher from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\n\nlet _isOpen = false,\n    _title = '',\n    _about = '',\n    _group = {};\n\nclass EditGroupStore extends Store {\n  constructor(Dispatcher) {\n    super(Dispatcher);\n  }\n\n  isOpen() {\n    return _isOpen;\n  }\n\n  getGroup() {\n    return _group;\n  }\n\n  getAbout() {\n    return _about;\n  }\n\n  getTitle() {\n    return _title;\n  }\n\n  isAdmin() {\n    const myID = ActorClient.getUid();\n    return _group.adminId === myID;\n  }\n\n  setGroup(group) {\n    _group = group;\n    _title = _group.name;\n    _about = _group.about;\n  }\n\n  __onDispatch(action) {\n    switch (action.type) {\n      case ActionTypes.GROUP_EDIT_MODAL_SHOW:\n        _isOpen = true;\n        this.setGroup(action.group);\n        this.__emitChange();\n        break;\n\n      case ActionTypes.GROUP_INFO_CHANGED:\n        this.setGroup(action.group);\n        this.__emitChange();\n        break;\n\n      case ActionTypes.GROUP_EDIT_MODAL_HIDE:\n        _isOpen = false;\n        this.__emitChange();\n        break;\n    }\n  };\n}\nexport default new EditGroupStore(Dispatcher);\n"]}