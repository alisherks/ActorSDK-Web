{"version":3,"sources":["../../src/utils/Inputs.js"],"names":[],"mappings":";;;AAAA,IAAM,SAAS;AACb,qBAAmB,2BAAC,EAAD,EAAQ;AACzB,QAAI,QAAQ,CAAR;QAAW,MAAM,CAAN;QAAS,eAAxB;QAAyC,KAAzC;QACE,cADF;QACkB,GADlB;QACuB,QADvB,CADyB;;AAIzB,QAAI,OAAO,GAAG,cAAH,KAAsB,QAA7B,IAAyC,OAAO,GAAG,YAAH,KAAoB,QAA3B,EAAqC;AAChF,cAAQ,GAAG,cAAH,CADwE;AAEhF,YAAM,GAAG,YAAH,CAF0E;KAAlF,MAGO;AACL,cAAQ,SAAS,SAAT,CAAmB,WAAnB,EAAR,CADK;;AAGL,UAAI,SAAS,MAAM,aAAN,OAA0B,EAA1B,EAA8B;AACzC,cAAM,GAAG,KAAH,CAAS,MAAT,CADmC;AAEzC,0BAAkB,GAAG,KAAH,CAAS,OAAT,CAAiB,OAAjB,EAA0B,IAA1B,CAAlB;;;AAFyC,sBAKzC,GAAiB,GAAG,eAAH,EAAjB,CALyC;AAMzC,uBAAe,cAAf,CAA8B,MAAM,WAAN,EAA9B;;;;;AANyC,gBAWzC,GAAW,GAAG,eAAH,EAAX,CAXyC;AAYzC,iBAAS,QAAT,CAAkB,KAAlB,EAZyC;;AAczC,YAAI,eAAe,gBAAf,CAAgC,YAAhC,EAA8C,QAA9C,IAA0D,CAAC,CAAD,EAAI;AAChE,kBAAQ,MAAM,GAAN,CADwD;SAAlE,MAEO;AACL,kBAAQ,CAAC,eAAe,SAAf,CAAyB,WAAzB,EAAsC,CAAC,GAAD,CAAvC,CADH;AAEL,mBAAS,gBAAgB,KAAhB,CAAsB,CAAtB,EAAyB,KAAzB,EAAgC,KAAhC,CAAsC,IAAtC,EAA4C,MAA5C,GAAqD,CAArD,CAFJ;;AAIL,cAAI,eAAe,gBAAf,CAAgC,UAAhC,EAA4C,QAA5C,IAAwD,CAAC,CAAD,EAAI;AAC9D,kBAAM,GAAN,CAD8D;WAAhE,MAEO;AACL,kBAAM,CAAC,eAAe,OAAf,CAAuB,WAAvB,EAAoC,CAAC,GAAD,CAArC,CADD;AAEL,mBAAO,gBAAgB,KAAhB,CAAsB,CAAtB,EAAyB,GAAzB,EAA8B,KAA9B,CAAoC,IAApC,EAA0C,MAA1C,GAAmD,CAAnD,CAFF;WAFP;SANF;OAdF;KANF;;AAoCA,WAAO;AACL,aAAO,KAAP;AACA,WAAK,GAAL;KAFF,CAxCyB;GAAR;CADf;;kBAgDS","file":"Inputs.js","sourcesContent":["const inputs = {\n  getInputSelection: (el) => {\n    var start = 0, end = 0, normalizedValue, range,\n      textInputRange, len, endRange;\n\n    if (typeof el.selectionStart === 'number' && typeof el.selectionEnd === 'number') {\n      start = el.selectionStart;\n      end = el.selectionEnd;\n    } else {\n      range = document.selection.createRange();\n\n      if (range && range.parentElement() === el) {\n        len = el.value.length;\n        normalizedValue = el.value.replace(/\\r\\n/g, '\\n');\n\n        // Create a working TextRange that lives only in the input\n        textInputRange = el.createTextRange();\n        textInputRange.moveToBookmark(range.getBookmark());\n\n        // Check if the start and end of the selection are at the very end\n        // of the input, since moveStart/moveEnd doesn't return what we want\n        // in those cases\n        endRange = el.createTextRange();\n        endRange.collapse(false);\n\n        if (textInputRange.compareEndPoints('StartToEnd', endRange) > -1) {\n          start = end = len;\n        } else {\n          start = -textInputRange.moveStart('character', -len);\n          start += normalizedValue.slice(0, start).split('\\n').length - 1;\n\n          if (textInputRange.compareEndPoints('EndToEnd', endRange) > -1) {\n            end = len;\n          } else {\n            end = -textInputRange.moveEnd('character', -len);\n            end += normalizedValue.slice(0, end).split('\\n').length - 1;\n          }\n        }\n      }\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  }\n};\n\nexport default inputs;\n"]}