{"version":3,"sources":["../../src/actions/CreateGroupActionCreators.js"],"names":[],"mappings":";;;;AAIA;;AACA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;;;;;;;;;AAEA,IAAM,4BAA4B;AAChC,wBAAO;AACL,sCAAS,+BAAY,uBAAZ,CAAT,CADK;AAEL,oCAAsB,eAAtB,CAAsC,KAAtC,EAFK;GADyB;AAMhC,0BAAQ;AACN,sCAAS,+BAAY,wBAAZ,CAAT,CADM;AAEN,oCAAsB,eAAtB,CAAsC,IAAtC,EAFM;GANwB;AAWhC,sCAAa,MAAM;AACjB,sCAAS,+BAAY,qBAAZ,EAAmC,EAAE,UAAF,EAA5C,EADiB;GAXa;;;;;;;AAmBhC,kDAAmB,iBAAiB;AAClC,sCAAS,+BAAY,wBAAZ,EAAsC,EAAE,gCAAF,EAA/C,EADkC;GAnBJ;AAuBhC,oCAAY,OAAO,QAAQ,WAAW;AACpC,QAAM,cAAc,SAAd,WAAc;aAAM,uCAAc,sBAAY,WAAZ,CAAwB,KAAxB,EAA+B,MAA/B,EAAuC,SAAvC,CAAd,EAAiE;AACzF,iBAAS,+BAAY,YAAZ;AACT,iBAAS,+BAAY,oBAAZ;AACT,iBAAS,+BAAY,kBAAZ;OAHe,EAIvB,EAAE,YAAF,EAAS,cAAT,EAAiB,oBAAjB,EAJuB;KAAN,CADgB;;AAOpC,QAAM,mBAAmB,SAAnB,gBAAmB,CAAC,IAAD;aAAU,kBAAQ,IAAR,UAAoB,oBAAU,YAAV,CAAuB,IAAvB,CAApB;KAAV,CAPW;;AASpC,kBACG,IADH,CACQ,gBADR,EAEG,IAFH,CAEQ,KAAK,KAAL,CAFR,CAToC;GAvBN;CAA5B;;kBAsCS","file":"CreateGroupActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { dispatch, dispatchAsync } from '../dispatcher/ActorAppDispatcher';\nimport ActorClient from '../utils/ActorClient';\nimport history from '../utils/history';\nimport PeerUtils from '../utils/PeerUtils';\n\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ComposeActionCreators from '../actions/ComposeActionCreators';\n\nconst CreateGroupActionCreators = {\n  open() {\n    dispatch(ActionTypes.GROUP_CREATE_MODAL_OPEN);\n    ComposeActionCreators.toggleAutoFocus(false);\n  },\n\n  close() {\n    dispatch(ActionTypes.GROUP_CREATE_MODAL_CLOSE);\n    ComposeActionCreators.toggleAutoFocus(true);\n  },\n\n  setGroupName(name) {\n    dispatch(ActionTypes.GROUP_CREATE_SET_NAME, { name });\n  },\n\n  //setGroupAvatar(avatar) {\n  //  dispatch(ActionTypes.GROUP_CREATE_SET_AVATAR, { avatar });\n  //},\n\n  setSelectedUserIds(selectedUserIds) {\n    dispatch(ActionTypes.GROUP_CREATE_SET_MEMBERS, { selectedUserIds });\n  },\n\n  createGroup(title, avatar, memberIds) {\n    const createGroup = () => dispatchAsync(ActorClient.createGroup(title, avatar, memberIds), {\n      request: ActionTypes.GROUP_CREATE,\n      success: ActionTypes.GROUP_CREATE_SUCCESS,\n      failure: ActionTypes.GROUP_CREATE_ERROR\n    }, { title, avatar, memberIds });\n\n    const openCreatedGroup = (peer) => history.push(`/im/${PeerUtils.peerToString(peer)}`);\n\n    createGroup()\n      .then(openCreatedGroup)\n      .then(this.close)\n  }\n};\n\nexport default CreateGroupActionCreators;\n"]}