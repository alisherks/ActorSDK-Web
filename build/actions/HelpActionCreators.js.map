{"version":3,"sources":["../../src/actions/HelpActionCreators.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;kBAEe;AACb,wBAAO;AACL,QAAM,cAAc,0BAAgB,GAAhB,EAAd,CADD;AAEL,QAAM,QAAQ,YAAY,SAAZ,GAAwB,YAAY,SAAZ,+BAAxB,CAFT;;AAIL,QAAM,aAAa,SAAb,UAAa,QAAS;AAC1B,UAAI,MAAM,MAAN,GAAe,CAAf,EAAkB;AACpB,YAAM,OAAO,MAAM,CAAN,EAAS,EAAT,CADO;AAEpB,YAAM,MAAM,IAAN,CAFc;AAGpB,YAAM,WAAW,sBAAY,WAAZ,CAAwB,GAAxB,CAAX,CAHc;;AAKpB,YAAI,KAAK,SAAL,EAAgB;AAClB,yCAAqB,gBAArB,CAAsC,QAAtC,EADkB;SAApB,MAEO;AACL,0CAAsB,UAAtB,CAAiC,GAAjC,EADK;AAEL,yCAAqB,gBAArB,CAAsC,QAAtC,EAFK;SAFP;OALF,MAWO;AACL,gBAAQ,IAAR,CAAa,yBAAb,EADK;OAXP;KADiB,CAJd;;AAqBL,0BAAY,SAAZ,CAAsB,KAAtB,EACG,IADH,CACQ,UADR,EACoB,UADpB,EAEG,KAFH,CAES,iBAAS;AACd,YAAM,IAAI,KAAJ,CAAU,KAAV,CAAN,CADc;KAAT,CAFT,CArBK;GADM","file":"HelpActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport ActorClient from '../utils/ActorClient';\nimport { helpPhone } from '../constants/ActorAppConstants';\nimport SharedContainer from '../utils/SharedContainer';\nimport ContactActionCreators from './ContactActionCreators';\nimport DialogActionCreators from './DialogActionCreators';\n\nexport default {\n  open() {\n    const SharedActor = SharedContainer.get();\n    const phone = SharedActor.helpPhone ? SharedActor.helpPhone : helpPhone;\n\n    const handleFind = users => {\n      if (users.length > 0) {\n        const user = users[0].id;\n        const uid = user;\n        const userPeer = ActorClient.getUserPeer(uid);\n\n        if (user.isContact) {\n          DialogActionCreators.selectDialogPeer(userPeer);\n        } else {\n          ContactActionCreators.addContact(uid);\n          DialogActionCreators.selectDialogPeer(userPeer);\n        }\n      } else {\n        console.warn('Support user not found.')\n      }\n    };\n\n    ActorClient.findUsers(phone)\n      .then(handleFind, handleFind)\n      .catch(error => {\n        throw new Error(error)\n      });\n  }\n};\n"]}