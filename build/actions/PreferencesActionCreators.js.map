{"version":3,"sources":["../../src/actions/PreferencesActionCreators.js"],"names":[],"mappings":";;;;AAIA;;AACA;;AACA;;;;AACA;;;;;;;;;;kBAEe;AACb,wBAAO;AACL,sCAAS,+BAAY,sBAAZ,CAAT,CADK;AAEL,SAAK,YAAL,GAFK;AAGL,oCAAsB,eAAtB,CAAsC,KAAtC,EAHK;GADM;AAOb,wBAAO;AACL,sCAAS,+BAAY,sBAAZ,CAAT,CADK;AAEL,oCAAsB,eAAtB,CAAsC,IAAtC,EAFK;GAPM;AAYb,sBAAK,aAAa;AAChB,sCAAS,+BAAY,gBAAZ,EAA8B;AACrC,8BADqC;KAAvC,EADgB;GAZL;AAkBb,gCAAU,KAAK;AACb,sCAAS,+BAAY,sBAAZ,EAAoC;AAC3C,cAD2C;KAA7C,EADa;GAlBF;AAwBb,wCAAe;AACb,2CAAc,sBAAY,YAAZ,EAAd,EAA0C;AACxC,eAAS,+BAAY,wBAAZ;AACT,eAAS,+BAAY,gCAAZ;AACT,eAAS,+BAAY,8BAAZ;KAHX,EADa;GAxBF;AAgCb,8CAAiB,IAAI;;;AACnB,2CAAc,sBAAY,gBAAZ,CAA6B,EAA7B,CAAd,EAAgD;AAC9C,eAAS,+BAAY,6BAAZ;AACT,eAAS,+BAAY,qCAAZ;AACT,eAAS,+BAAY,mCAAZ;KAHX,EAIG,EAAE,MAAF,EAJH,EAIW,IAJX;;AAME;aAAM,MAAK,YAAL;KAAN,CANF,CADmB;GAhCR;AA2Cb,wDAAuB;;;AACrB,2CAAc,sBAAY,oBAAZ,EAAd,EAAkD;AAChD,eAAS,+BAAY,iCAAZ;AACT,eAAS,+BAAY,yCAAZ;AACT,eAAS,+BAAY,uCAAZ;KAHX,EAIG,IAJH;;AAME;aAAM,OAAK,YAAL;KAAN,CANF,CADqB;GA3CV","file":"PreferencesActionCreators.js","sourcesContent":["/*\n * Copyright (C) 2015 Actor LLC. <https://actor.im>\n */\n\nimport { dispatch, dispatchAsync } from '../dispatcher/ActorAppDispatcher';\nimport { ActionTypes } from '../constants/ActorAppConstants';\nimport ActorClient from '../utils/ActorClient';\nimport ComposeActionCreators from '../actions/ComposeActionCreators';\n\nexport default {\n  show() {\n    dispatch(ActionTypes.PREFERENCES_MODAL_SHOW);\n    this.loadSessions();\n    ComposeActionCreators.toggleAutoFocus(false);\n  },\n\n  hide() {\n    dispatch(ActionTypes.PREFERENCES_MODAL_HIDE);\n    ComposeActionCreators.toggleAutoFocus(true);\n  },\n\n  save(preferences) {\n    dispatch(ActionTypes.PREFERENCES_SAVE, {\n      preferences\n    });\n  },\n\n  changeTab(tab) {\n    dispatch(ActionTypes.PREFERENCES_CHANGE_TAB, {\n      tab\n    });\n  },\n\n  loadSessions() {\n    dispatchAsync(ActorClient.loadSessions(), {\n      request: ActionTypes.PREFERENCES_SESSION_LOAD,\n      success: ActionTypes.PREFERENCES_SESSION_LOAD_SUCCESS,\n      failure: ActionTypes.PREFERENCES_SESSION_LOAD_ERROR\n    });\n  },\n\n  terminateSession(id) {\n    dispatchAsync(ActorClient.terminateSession(id), {\n      request: ActionTypes.PREFERENCES_SESSION_TERMINATE,\n      success: ActionTypes.PREFERENCES_SESSION_TERMINATE_SUCCESS,\n      failure: ActionTypes.PREFERENCES_SESSION_TERMINATE_ERROR\n    }, { id }).then(\n      // Reload active session list\n      () => this.loadSessions()\n    );\n  },\n\n  terminateAllSessions() {\n    dispatchAsync(ActorClient.terminateAllSessions(), {\n      request: ActionTypes.PREFERENCES_SESSION_TERMINATE_ALL,\n      success: ActionTypes.PREFERENCES_SESSION_TERMINATE_ALL_SUCCESS,\n      failure: ActionTypes.PREFERENCES_SESSION_TERMINATE_ALL_ERROR\n    }).then(\n      // Reload active session list\n      () => this.loadSessions()\n    );\n  }\n};\n"]}