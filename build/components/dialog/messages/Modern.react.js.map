{"version":3,"sources":["../../../../src/components/dialog/messages/Modern.react.js"],"names":[],"mappings":"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","file":"Modern.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport { map } from 'lodash';\nimport React, { Component, PropTypes } from 'react';\nimport classnames from 'classnames';\n\nconst ColorTypes = {\n  HEX: 'hex',\n  NAMED: 'named'\n};\n\n/**\n * @param color\n * @returns {string | null} Color value\n */\nfunction getColor(color) {\n  if (color) {\n    switch (color.type) {\n      case ColorTypes.HEX:\n        return color.hex;\n      case ColorTypes.NAMED:\n        return color.name;\n      default:\n        return null;\n    }\n  } else {\n    return null;\n  }\n}\n\n/**\n * Class that represents component for display modern text message attachment field\n * @param {String} title Field title\n * @param {String} value Field value\n * @param {Boolean} isShort Display short version of field\n */\nclass Field extends Component {\n  static propTypes = {\n    title: PropTypes.string,\n    value: PropTypes.string,\n    isShort: PropTypes.bool\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { title, value, isShort } = this.props;\n\n    const fieldClassName = classnames('field', {\n      'field--short': isShort,\n      'col-xs-6': isShort,\n      'col-xs-12': !isShort\n    });\n\n    return (\n      <div className={fieldClassName}>\n        {title ? <div className=\"field__title\">{title}</div> : null}\n        {value ? <div className=\"field__value\">{value}</div> : null}\n      </div>\n    )\n  }\n}\n\n/**\n * Class that represents component for display modern text message attachments\n * @param {Array} fields Array of objects contains attachment fields\n * @param {Object} paragraphStyle Contains attachment styles\n * @param {String} text Attachment text\n * @param {String} title Attachment title\n * @param {String} titleUrl Attachment title url\n */\nclass Attach extends Component {\n  static propTypes = {\n    paragraphStyle: PropTypes.object,\n    text: PropTypes.string,\n    title: PropTypes.string,\n    titleUrl: PropTypes.string,\n    fields: PropTypes.array\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { paragraphStyle, titleUrl, title, text, fields } = this.props;\n\n    const attachmentClassName = classnames('attachment', {\n      'attachment--paragraph': paragraphStyle.showParagraph\n    });\n\n    const attachmentStyles = {\n      borderColor: getColor(paragraphStyle.color) || 'transparent',\n      backgroundColor: getColor(paragraphStyle.bgColor) || 'transparent'\n    };\n\n    const attachmentFields = map(fields, (field, index) => <Field key={index} {...field}/>);\n\n    return (\n      <div className={attachmentClassName} style={attachmentStyles}>\n        <div className=\"attachment__title\">\n          {\n            titleUrl\n              ? <a href={titleUrl}>{title}</a>\n              : title\n          }\n        </div>\n        {text ? text : null}\n        {attachmentFields ? <div className=\"attachment_fields row\">{attachmentFields}</div> : null}\n      </div>\n    );\n  }\n}\n\n/**\n * Class that represents component for display modern text messages content\n * @param {Array} attaches Array of objects contains modern message attached paragraphs\n * @param {Object} paragraphStyle Contains message styles\n * @param {String} text Message text\n * @param {String} className Component class name\n */\nclass TextModern extends Component {\n  static propTypes = {\n    attaches: PropTypes.array,\n    paragraphStyle: PropTypes.object,\n    text: PropTypes.string,\n    className: PropTypes.string\n  };\n\n  render() {\n    const { paragraphStyle, attaches, text, className } = this.props;\n    const modernClassName = classnames('modern', {\n      'modern--paragraph': paragraphStyle.showParagraph\n    });\n\n    const modernStyles = {\n      borderColor: getColor(paragraphStyle.color) || 'transparent',\n      backgroundColor: getColor(paragraphStyle.bgColor) || 'transparent'\n    };\n\n    const modernAttachments = map(attaches, (attachment, index) => <Attach key={index} {...attachment}/>);\n\n    return (\n      <div className={className}>\n        <div className={modernClassName} style={modernStyles}>\n          {text ? <p>{text}</p> : null}\n          {modernAttachments}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TextModern;\n"]}