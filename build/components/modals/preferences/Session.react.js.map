{"version":3,"sources":["../../../../src/components/modals/preferences/Session.react.js"],"names":[],"mappings":";;;;AAIA;;;;AACA;;AAEA;;;;AAEA;;;;AAEA;;;;;;;;;;;;;;IAEM;;;AACJ,WADI,WACJ,CAAY,KAAZ,EAAmB;0BADf,aACe;;iDACjB,sBAAM,KAAN,GADiB;;;;;GAAnB;;AADI,wBAyBJ,2BAAS;iBACgC,KAAK,KAAL,CADhC;QACC,2BADD;QACW,uBADX;QACmB,2BADnB;QAEC,wBAA0B,KAAK,KAAL,CAA1B,sBAFD;QAGC,OAAS,KAAK,OAAL,CAAT,KAHD;;;AAKP,QAAM,gBAAgB,MAAC,KAAW,aAAX,GACrB;;;MAAQ,KAAK,QAAL,CAAc,mCAAd,CAAR;KADoB,GAElB,IAFkB,CALf;;AASP,WACE;;QAAI,WAAU,uBAAV,EAAJ;MACE;;UAAK,WAAU,OAAV,EAAL;QACG,QADH;QAEG,aAFH;OADF;MAME;;;QACE;;;UAAI,KAAK,QAAL,CAAc,6BAAd,CAAJ;;SADF;;QAC0D,SAAS,QAAT,EAD1D;OANF;MAUE;2BAAU,IAAV;UAAe,cAAc,qBAAd,EAAf;QACE;6BAAU,OAAV;;UACE;;cAAG,WAAU,6CAAV,EAAwD,SAAS,KAAK,WAAL,EAApE;YACG,KAAK,QAAL,CAAc,8BAAd,CADH;WADF;SADF;QAME;6BAAU,UAAV;;UACE;;cAAG,WAAU,sDAAV,EAAH;;WADF;SANF;QASE;6BAAU,OAAV;;UACE;;cAAG,WAAU,iDAAV,EAAH;;WADF;SATF;QAYE;6BAAU,OAAV;;UACE;;cAAG,WAAU,iDAAV,EAAH;;WADF;SAZF;OAVF;KADF,CATO;;;SAzBL;;;YAKG,YAAY;SAAM;CAAN;;AALf,YAMG,iBAAiB,UAAC,SAAD,EAAY,KAAZ,EAAsB;AAC5C,SAAO;AACL,2BAAuB,2BAAiB,wBAAjB,CAA0C,MAAM,EAAN,CAAjE;GADF,CAD4C;CAAtB;;AANpB,YAYG,YAAY;AACjB,YAAU,iBAAU,MAAV,CAAiB,UAAjB;AACV,UAAQ,iBAAU,MAAV,CAAiB,UAAjB;AACR,MAAI,iBAAU,MAAV,CAAiB,UAAjB;AACJ,YAAU,iBAAU,MAAV,CAAiB,UAAjB;;AAhBR,YAmBG,eAAe;AACpB,QAAM,iBAAU,MAAV;;;;;;OAGR,cAAc;WAAM,oCAA0B,gBAA1B,CAA2C,OAAK,KAAL,CAAW,EAAX;GAAjD;;;kBA2CD,iBAAU,MAAV,CAAiB,WAAjB,EAA8B,EAAC,MAAM,KAAN,EAAa,WAAW,IAAX,EAA5C","file":"Session.react.js","sourcesContent":["/*\n * Copyright (C) 2015-2016 Actor LLC. <https://actor.im>\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport { Container } from 'flux/utils';\n\nimport PreferencesActionCreators from '../../../actions/PreferencesActionCreators';\n\nimport PreferencesStore from '../../../stores/PreferencesStore';\n\nimport Stateful from '../../common/Stateful';\n\nclass SessionItem extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static getStores = () => [PreferencesStore];\n  static calculateState = (prevState, props) => {\n    return {\n      terminateSessionState: PreferencesStore.getTerminateSessionState(props.id)\n    }\n  };\n\n  static propTypes = {\n    appTitle: PropTypes.string.isRequired,\n    holder: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    authTime: PropTypes.object.isRequired\n  };\n\n  static contextTypes = {\n    intl: PropTypes.object\n  };\n\n  onTerminate = () => PreferencesActionCreators.terminateSession(this.props.id);\n\n  render() {\n    const { appTitle, holder, authTime } = this.props;\n    const { terminateSessionState } = this.state;\n    const { intl } = this.context;\n\n    const currentDevice = (holder === 'THIS_DEVICE') ? (\n      <small>{intl.messages['preferencesSessionsCurrentSession']}</small>\n    ) : null;\n\n    return (\n      <li className=\"session-list__session\">\n        <div className=\"title\">\n          {appTitle}\n          {currentDevice}\n        </div>\n\n        <small>\n          <b>{intl.messages['preferencesSessionsAuthTime']}:</b> {authTime.toString()}\n        </small>\n\n        <Stateful.Root currentState={terminateSessionState}>\n          <Stateful.Pending>\n            <a className=\"session-list__session__terminate link--blue\" onClick={this.onTerminate}>\n              {intl.messages['preferencesSessionsTerminate']}\n            </a>\n          </Stateful.Pending>\n          <Stateful.Processing>\n            <i className=\"session-list__session__terminate material-icons spin\">autorenew</i>\n          </Stateful.Processing>\n          <Stateful.Success>\n            <i className=\"session-list__session__terminate material-icons\">check</i>\n          </Stateful.Success>\n          <Stateful.Failure>\n            <i className=\"session-list__session__terminate material-icons\">warning</i>\n          </Stateful.Failure>\n        </Stateful.Root>\n      </li>\n    )\n  }\n}\n\nexport default Container.create(SessionItem, {pure: false, withProps: true});\n"]}